fragment_downloaded_cb({"url": "plugin-development/advanced/allocation.html#gst_query_allocation", "fragment": "GST_QUERY_ALLOCATION \nThe ALLOCATION query is used to negotiate GstMeta GstBufferPool and GstAllocator between elements. Negotiation of the allocation strategy is always initiated and decided by a srcpad after it has negotiated a format and before it decides to push buffers. A sinkpad can suggest an allocation strategy but it is ultimately the source pad that will decide based on the suggestions of the downstream sink pad. \nThe source pad will do a GST_QUERY_ALLOCATION with the negotiated caps as a parameter. This is needed so that the downstream element knows what media type is being handled. A downstream sink pad can answer the allocation query with the following results \nAn array of possible GstBufferPool suggestions with suggested size minimum and maximum amount of buffers. \nAn array of GstAllocator objects along with suggested allocation parameters such as flags prefix alignment and padding. These allocators can also be configured in a bufferpool when this is supported by the bufferpool. \nAn array of supported GstMeta implementations along with metadata specific parameters. It is important that the upstream element knows what kind of metadata is supported downstream before it places that metadata on buffers. \nWhen the GST_QUERY_ALLOCATION returns the source pad will select from the available bufferpools allocators and metadata how it will allocate buffers. \n"});