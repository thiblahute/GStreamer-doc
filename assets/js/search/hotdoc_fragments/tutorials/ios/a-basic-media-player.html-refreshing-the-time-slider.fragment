fragment_downloaded_cb({"url": "tutorials/ios/a-basic-media-player.html#refreshing-the-time-slider", "fragment": "Refreshing the Time Slider \nBasic tutorial GUI toolkit integration has already shown how to implement a Seek Bar or Time Slider in this tutorial using the GTK toolkit. The implementation on iOS is very similar. \nThe Seek Bar accomplishes to functions First it moves on its own to reflect the current playback position in the media. Second it can be dragged by the user to seek to a different position. \nTo realize the first function GStreamerBackend will periodically call our setCurrentPosition method so we can update the position of the thumb in the Seek Bar. Again we do so from the UI thread using dispatch_async \nAlso note that if the user is currently dragging the slider the dragging_slider variable is explained below we ignore setCurrentPosition calls from GStreamerBackend as they would interfere with the user s actions. \nTo the left of the Seek Bar refer to the screenshot at the top of this page there is a TextField widget which we will use to display the current position and duration in HH mm ss HH mm ss textual format. The updateTimeWidget method takes care of it and must be called every time the Seek Bar is updated \nSeeking with the Seek Bar \nTo perform the second function of the Seek Bar allowing the user to seek by dragging the thumb we register some callbacks through IBAction outlets. Refer to the storyboard in this tutorial s project to see which outlets are connected. We will be notified when the user starts dragging the Slider when the Slider position changes and when the users releases the Slider. \nsliderTouchDown is called when the user starts dragging. Here we pause the pipeline because if the user is searching for a particular scene we do not want it to keep moving. We also mark that a drag operation is in progress in the dragging_slider variable. \nsliderValueChanged is called every time the Slider s thumb moves be it because the user dragged it or because we changed its value form the program. We discard the latter case using the dragging_slider variable. \nAs the comment says if this is a local media we allow scrub seeking this is we jump to the indicated position as soon as the thumb moves. Otherwise the seek operation will be performed when the thumb is released and the only thing we do here is update the textual time widget. \nFinally sliderTouchUp is called when the thumb is released. We perform the seek operation if the file was non local restore the pipeline to the desired playing state and end the dragging operation by setting dragging_slider to NO. \nThis concludes the User interface part of this tutorial. Let s review now the GStreamerBackend class that allows this to work. \n"});