fragment_downloaded_cb({"url": "deploying/mac-osx.html#location-of-dependent-dynamic-libraries", "fragment": "Location of dependent dynamic libraries. \nOn Darwin operating systems the dynamic linker doesn t locate dependent dynamic libraries using their leaf name but instead it uses full paths which makes it harder to relocate them as explained in the DYNAMIC LIBRARY LOADING section of dyld s man page \nUnlike many other operating systems Darwin does not locate dependent dynamic libraries via their leaf file name. Instead the full path to each dylib is used e.g. usr lib libSystem.B.dylib But there are times when a full path is not appropriate for instance may want your binaries to be installable in anywhere on the disk. \nWe can get the list of paths used by an object file to locate its dependent dynamic libraries using otool \nAs you might have already noticed if we move GStreamer to a different folder it will stop working because the runtime linker won t be able to find gstreamer in the previous location Library Frameworks GStreamer.framework Versions x86 lib libgstreamer dylib. \nThis full path is extracted from the dynamic library install name a path that is used by the linker to determine its location. The install name of a library can be retrieved with otool too \nAny object file that links to the dynamic library gstreamer will use the path Library Frameworks GStreamer.framework Versions x86 lib libgstreamer dylib to locate it as we saw previously with gst launch \nSince working exclusively with full paths wouldn t let us install our binaries anywhere in the path the linker provides a mechanism of string substitution adding three variables that can be used as a path prefix. At runtime the linker will replace them with the generated path for the prefix. These variables are executable_path loader_path and rpath described in depth in the DYNAMIC LIBRARY LOADING section of dyld s man page. \nFor our purpose we will use the executable_path variable which is replaced with a fixed path the path to the directory containing the main executable Applications MyApp.app Contents MacOS. The loader_path variable can t be used in our scope because it will be replaced with the path to the directory containing the mach o binary that loaded the dynamic library which can vary. \nTherefore in order to relocate GStreamer we will need to replace all paths containing Library Frameworks GStreamer.framework with executable_path Frameworks GStreamer.framework which can be done using the install_name_tool utility \n"});