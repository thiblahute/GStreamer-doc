fragment_downloaded_cb({"url": "design/MT-refcounting.html#refcounting", "fragment": "Refcounting \nAll shared objects have a refcount associated with them. Each reference obtained to the object should increase the refcount and each reference lost should decrease the refcount. \nThe refcounting is used to make sure that when another thread destroys the object the ones which still hold a reference to the object do not read from invalid memory when accessing the object. \nRefcounting is also used to ensure that mutable data structures are only modified when they are owned by the calling code. \nIt is a requirement that when two threads have a handle on an object the refcount must be more than one. This means that when one thread passes an object to another thread it must increase the refcount. This requirement makes sure that one thread cannot suddenly dispose the object making the other thread crash when it tries to access the pointer to invalid memory. \n"});