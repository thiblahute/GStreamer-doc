fragment_downloaded_cb({"url": "design/bufferpool.html#negotiation", "fragment": "Negotiation \nAfter a particular media format has been negotiated between two pads using the CAPS event they must agree on how to allocate buffers. \nThe srcpad will always take the initiative to negotiate the allocation properties. It starts with creating a GST_QUERY_ALLOCATION with the negotiated caps. \nThe srcpad can set the need pool flag to TRUE in the query to optionally make the peer pad allocate a bufferpool. It should only do this if it is able to use the peer provided bufferpool. \nIt will then inspect the returned results and configure the returned pool or create a new pool with the returned properties when needed. \nBuffers are then allocated by the srcpad from the negotiated pool and pushed to the peer pad as usual. \nThe allocation query can also return an allocator object when the buffers are of different sizes and can t be allocated from a pool. \n"});