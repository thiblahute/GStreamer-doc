fragment_downloaded_cb({"url": "design/relations.html#destroying-the-unreffed-relationship", "fragment": "destroying the unreffed relationship \nBecause of the lock order we need to be careful when destroying this relation. \nWhen only a reference to object1 is held \nWhen only a reference to object2 is held we need to get a handle to the other object fist so that we can lock it first. There is a window where we need to release all locks and the relation could be invalid. To solve this we check the relation after grabbing both locks and retry if the relation changed. \n"});