<!DOCTYPE html>
<html lang="en">
<head>

<base href="../..">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>GstSegment</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/extra_frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/trie.js"></script>
<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
" data-spy="scroll" data-target="#toc" data-offset="70">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form action="" class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/gstreamer-logo.svg" alt="Home" id="home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
    <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        API References<span class="caret"></span>
    </a>
	<ul class="dropdown-menu" id="modules-menu">
					<li>
				<a href="libgstreamer-1.0/c/index.html">GStreamer core</a>
			</li>
					<li>
				<a href="libs.html">GStreamer Libraries</a>
			</li>
					<li>
				<a href="plugins_doc.html">GStreamer Plugins</a>
			</li>
		</ul>
</li>

<li>
    <a href="application-development/index.html">Application manual</a>
</li>


<li>
    <a href="tutorials/index.html">Tutorials</a>
</li>

			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
							</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="gi-extension" data-hotdoc-in-toplevel="False" data-hotdoc-project="libgstreamer-1.0" data-hotdoc-ref="gstsegment.html" class="page_container" id="page-wrapper" data-hotdoc-meta-gi-languages="c,python,javascript" data-hotdoc-meta-gi-language="c">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
			<script src="assets/js/c-sitemap.js"></script>
	</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-source="gstsegment.h" data-hotdoc-role="main">
        <h1 id="gstsegment-page">GstSegment</h1>
<p>This helper structure holds the relevant values for tracking the region of
interest in a media file, called a segment.</p>
<p>The structure can be used for two purposes:</p>
<ul>
<li>performing seeks (handling seek events)</li>
<li>tracking playback regions (handling newsegment events)</li>
</ul>
<p>The segment is usually configured by the application with a seek event which
is propagated upstream and eventually handled by an element that performs the seek.</p>
<p>The configured segment is then propagated back downstream with a newsegment event.
This information is then used to clip media to the segment boundaries.</p>
<p>A segment structure is initialized with <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_init">gst_segment_init</a>, which takes a <a href="GstFormat">GstFormat</a>
that will be used as the format of the segment values. The segment will be configured
with a start value of 0 and a stop/duration of -1, which is undefined. The default
rate and applied_rate is 1.0.</p>
<p>The public duration field contains the duration of the segment. When using
the segment for seeking, the start and time members should normally be left
to their default 0 value. The stop position is left to -1 unless explicitly
configured to a different value after a seek event.</p>
<p>The current position in the segment should be set by changing the position
member in the structure.</p>
<p>For elements that perform seeks, the current segment should be updated with the
<a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_do_seek">gst_segment_do_seek</a> and the values from the seek event. This method will update
all the segment fields. The position field will contain the new playback position.
If the start_type was different from GST_SEEK_TYPE_NONE, playback continues from
the position position, possibly with updated flags or rate.</p>
<p>For elements that want to use <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> to track the playback region,
update the segment fields with the information from the newsegment event.
The <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_clip">gst_segment_clip</a> method can be used to check and clip
the media data to the segment boundaries.</p>
<p>For elements that want to synchronize to the pipeline clock, <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_to_running_time">gst_segment_to_running_time</a>
can be used to convert a timestamp to a value that can be used to synchronize
to the clock. This function takes into account the base as well as
any rate or applied_rate conversions.</p>
<p>For elements that need to perform operations on media data in stream_time,
<a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_to_stream_time">gst_segment_to_stream_time</a> can be used to convert a timestamp and the segment
info to stream time (which is always between 0 and the duration of the stream).</p>

    </div>
        

            <h2 class="symbol_section" id="">GstSegment</h2>
        



            <h3 class="symbol_section" id="GstSegmentConstructors">Constructors</h3>
                    

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_new">
	<span><code>gst_segment_new</code></span>
</h4>

		

<pre class="prototype">
<a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> *
gst_segment_new ()</pre>

<p>Allocate a new <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure and initialize it using
<a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_init">gst_segment_init</a>.</p>
<p>Free-function: gst_segment_free</p>




		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
									(
					
										
<span class="annotation">[<abbr title="Free data after the code is done"><span class="acronym">transfer: full</span></abbr>]</span>

										)
								–
			</div>
							<p>a new <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a>, free with <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_free">gst_segment_free</a>.</p>

					</div>
	</div>




</div>




            <h3 class="symbol_section" id="GstSegmentMethods">Methods</h3>
                    

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_clip">
	<span><code>gst_segment_clip</code></span>
</h4>

		

<pre class="prototype">
<a title="gboolean" href="gst-plugins-base-riff-1.0/riff-read.html#gboolean">gboolean</a>
gst_segment_clip (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                  <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                  <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> start,
                  <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> stop,
                  <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> * clip_start,
                  <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> * clip_stop)</pre>

<p>Clip the given <em>start</em> and <em>stop</em> values to the segment boundaries given
in <em>segment</em>. <em>start</em> and <em>stop</em> are compared and clipped to <em>segment</em>
start and stop values.</p>
<p>If the function returns <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS">FALSE</a>, <em>start</em> and <em>stop</em> are known to fall
outside of <em>segment</em> and <em>clip_start</em> and <em>clip_stop</em> are not updated.</p>
<p>When the function returns <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS">TRUE</a>, <em>clip_start</em> and <em>clip_stop</em> will be
updated. If <em>clip_start</em> or <em>clip_stop</em> are different from <em>start</em> or <em>stop</em>
respectively, the region fell partially in the segment.</p>
<p>Note that when <em>stop</em> is -1, <em>clip_stop</em> will be set to the end of the
segment. Depending on the use case, this may or may not be what you want.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>start</code></em></i>
				–
	</div>
			<p>the start position in the segment</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>stop</code></em></i>
				–
	</div>
			<p>the stop position in the segment</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>clip_start</code></em></i>
					(
						
<span class="annotation">[<abbr title="Parameter for returning results"><span class="acronym">out</span></abbr>]</span>
<span class="annotation">[<abbr title="NULL is OK, both for passing and returning"><span class="acronym">allow-none</span></abbr>]</span>

						)
				–
	</div>
			<p>the clipped start position in the segment</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>clip_stop</code></em></i>
					(
						
<span class="annotation">[<abbr title="Parameter for returning results"><span class="acronym">out</span></abbr>]</span>
<span class="annotation">[<abbr title="NULL is OK, both for passing and returning"><span class="acronym">allow-none</span></abbr>]</span>

						)
				–
	</div>
			<p>the clipped stop position in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p><a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS">TRUE</a> if the given <em>start</em> and <em>stop</em> times fall partially or
completely in <em>segment</em>, <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS">FALSE</a> if the values are completely outside
of the segment.</p>

					</div>
	</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_copy">
	<span><code>gst_segment_copy</code></span>
</h4>

		

<pre class="prototype">
<a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> *
gst_segment_copy (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment)</pre>

<p>Create a copy of given <em>segment</em>.</p>
<p>Free-function: gst_segment_free</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
					(
						
<span class="annotation">[<abbr title="Don't free data after the code is done"><span class="acronym">transfer: none</span></abbr>]</span>

						)
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a></p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
									(
					
										
<span class="annotation">[<abbr title="Free data after the code is done"><span class="acronym">transfer: full</span></abbr>]</span>

										)
								–
			</div>
							<p>a new <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a>, free with <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_free">gst_segment_free</a>.</p>

					</div>
	</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_copy_into">
	<span><code>gst_segment_copy_into</code></span>
</h4>

		

<pre class="prototype">
gst_segment_copy_into (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * src,
                       <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * dest)</pre>

<p>Copy the contents of <em>src</em> into <em>dest</em>.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>src</code></em></i>
					(
						
<span class="annotation">[<abbr title="Don't free data after the code is done"><span class="acronym">transfer: none</span></abbr>]</span>

						)
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a></p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>dest</code></em></i>
					(
						
<span class="annotation">[<abbr title="Don't free data after the code is done"><span class="acronym">transfer: none</span></abbr>]</span>

						)
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a></p>

	</div>

			</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_do_seek">
	<span><code>gst_segment_do_seek</code></span>
</h4>

		

<pre class="prototype">
<a title="gboolean" href="gst-plugins-base-riff-1.0/riff-read.html#gboolean">gboolean</a>
gst_segment_do_seek (<a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                     <a title="gdouble" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gdouble">gdouble</a> rate,
                     <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                     <a title="GstSeekFlags" href="libgstreamer-1.0/c/gstsegment.html#GstSeekFlags">GstSeekFlags</a> flags,
                     <a title="GstSeekType" href="libgstreamer-1.0/c/gstsegment.html#GstSeekType">GstSeekType</a> start_type,
                     <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> start,
                     <a title="GstSeekType" href="libgstreamer-1.0/c/gstsegment.html#GstSeekType">GstSeekType</a> stop_type,
                     <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> stop,
                     <a title="gboolean" href="gst-plugins-base-riff-1.0/riff-read.html#gboolean">gboolean</a> * update)</pre>

<p>Update the segment structure with the field values of a seek event (see
<a href="libgstreamer-1.0/c/gstevent.html#gst_event_new_seek">gst_event_new_seek</a>).</p>
<p>After calling this method, the segment field position and time will
contain the requested new position in the segment. The new requested
position in the segment depends on <em>rate</em> and <em>start_type</em> and <em>stop_type</em>.</p>
<p>For positive <em>rate</em>, the new position in the segment is the new <em>segment</em>
start field when it was updated with a <em>start_type</em> different from
<a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_TYPE_NONE">GST_SEEK_TYPE_NONE</a>. If no update was performed on <em>segment</em> start position
(#GST_SEEK_TYPE_NONE), <em>start</em> is ignored and <em>segment</em> position is
unmodified.</p>
<p>For negative <em>rate</em>, the new position in the segment is the new <em>segment</em>
stop field when it was updated with a <em>stop_type</em> different from
<a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_TYPE_NONE">GST_SEEK_TYPE_NONE</a>. If no stop was previously configured in the segment, the
duration of the segment will be used to update the stop position.
If no update was performed on <em>segment</em> stop position (#GST_SEEK_TYPE_NONE),
<em>stop</em> is ignored and <em>segment</em> position is unmodified.</p>
<p>The applied rate of the segment will be set to 1.0 by default.
If the caller can apply a rate change, it should update <em>segment</em>
rate and applied_rate after calling this function.</p>
<p><em>update</em> will be set to <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS">TRUE</a> if a seek should be performed to the segment
position field. This field can be <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS">FALSE</a> if, for example, only the <em>rate</em>
has been changed but not the playback position.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>rate</code></em></i>
				–
	</div>
			<p>the rate of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>flags</code></em></i>
				–
	</div>
			<p>the segment flags for the segment</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>start_type</code></em></i>
				–
	</div>
			<p>the seek method</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>start</code></em></i>
				–
	</div>
			<p>the seek start value</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>stop_type</code></em></i>
				–
	</div>
			<p>the seek method</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>stop</code></em></i>
				–
	</div>
			<p>the seek stop value</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>update</code></em></i>
					(
						
<span class="annotation">[<abbr title="Parameter for returning results"><span class="acronym">out</span></abbr>]</span>
<span class="annotation">[<abbr title="NULL is OK, both for passing and returning"><span class="acronym">allow-none</span></abbr>]</span>

						)
				–
	</div>
			<p>boolean holding whether position was updated.</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p><a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS">TRUE</a> if the seek could be performed.</p>

					</div>
	</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_free">
	<span><code>gst_segment_free</code></span>
</h4>

		

<pre class="prototype">
gst_segment_free (<a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment)</pre>

<p>Free the allocated segment <em>segment</em>.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
					(
						
<span class="annotation">[<abbr title="Parameter for input. Default is transfer none"><span class="acronym">in</span></abbr>]</span>
<span class="annotation">[<abbr title="Free data after the code is done"><span class="acronym">transfer: full</span></abbr>]</span>

						)
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a></p>

	</div>

			</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_init">
	<span><code>gst_segment_init</code></span>
</h4>

		

<pre class="prototype">
gst_segment_init (<a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                  <a title="GstFormat" href="GstFormat">GstFormat</a> format)</pre>

<p>The start/position fields are set to 0 and the stop/duration
fields are set to -1 (unknown). The default rate of 1.0 and no
flags are set.</p>
<p>Initialize <em>segment</em> to its default values.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

			</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.6;">
		
<h4 id="gst_segment_is_equal">
	<span><code>gst_segment_is_equal</code></span>
</h4>

		

<pre class="prototype">
<a title="gboolean" href="gst-plugins-base-riff-1.0/riff-read.html#gboolean">gboolean</a>
gst_segment_is_equal (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * s0,
                      const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * s1)</pre>

<p>Checks for two segments being equal. Equality here is defined
as perfect equality, including floating point values.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>s0</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>s1</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p><a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS">TRUE</a> if the segments are equal, <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS">FALSE</a> otherwise.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.6
		</p>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.2.3;">
		
<h4 id="gst_segment_offset_running_time">
	<span><code>gst_segment_offset_running_time</code></span>
</h4>

		

<pre class="prototype">
<a title="gboolean" href="gst-plugins-base-riff-1.0/riff-read.html#gboolean">gboolean</a>
gst_segment_offset_running_time (<a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                                 <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                                 <a title="gint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint64">gint64</a> offset)</pre>

<p>Adjust the values in <em>segment</em> so that <em>offset</em> is applied to all
future running-time calculations.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>offset</code></em></i>
				–
	</div>
			<p>the offset to apply in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p><a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS">TRUE</a> if the segment could be updated successfully. If <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS">FALSE</a> is
returned, <em>offset</em> is not in <em>segment</em>.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.2.3
		</p>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.8;">
		
<h4 id="gst_segment_position_from_running_time">
	<span><code>gst_segment_position_from_running_time</code></span>
</h4>

		

<pre class="prototype">
<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>
gst_segment_position_from_running_time (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                                        <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                                        <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> running_time)</pre>

<p>Convert <em>running_time</em> into a position in the segment so that
<a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_to_running_time">gst_segment_to_running_time</a> with that position returns <em>running_time</em>.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>running_time</code></em></i>
				–
	</div>
			<p>the running_time in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>the position in the segment for <em>running_time</em>. This function returns
-1 when <em>running_time</em> is -1 or when it is not inside <em>segment</em>.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.8
		</p>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.8;">
		
<h4 id="gst_segment_position_from_running_time_full">
	<span><code>gst_segment_position_from_running_time_full</code></span>
</h4>

		

<pre class="prototype">
<a title="gint" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint">gint</a>
gst_segment_position_from_running_time_full (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                                             <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                                             <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> running_time,
                                             <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> * position)</pre>

<p>Translate <em>running_time</em> to the segment position using the currently configured
segment. Compared to <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_position_from_running_time">gst_segment_position_from_running_time</a> this function can
return negative segment position.</p>
<p>This function is typically used by elements that need to synchronize buffers
against the clock or each other.</p>
<p><em>running_time</em> can be any value and the result of this function for values
outside of the segment is extrapolated.</p>
<p>When 1 is returned, <em>running_time</em> resulted in a positive position returned
in <em>position</em>.</p>
<p>When this function returns -1, the returned <em>position</em> should be negated
to get the real negative segment position.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>running_time</code></em></i>
				–
	</div>
			<p>the running-time</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>position</code></em></i>
					(
						
<span class="annotation">[<abbr title="Parameter for returning results"><span class="acronym">out</span></abbr>]</span>

						)
				–
	</div>
			<p>the resulting position in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>a 1 or -1 on success, 0 on failure.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.8
		</p>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.8;">
		
<h4 id="gst_segment_position_from_stream_time">
	<span><code>gst_segment_position_from_stream_time</code></span>
</h4>

		

<pre class="prototype">
<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>
gst_segment_position_from_stream_time (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                                       <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                                       <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> stream_time)</pre>

<p>Convert <em>stream_time</em> into a position in the segment so that
<a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_to_stream_time">gst_segment_to_stream_time</a> with that position returns <em>stream_time</em>.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>stream_time</code></em></i>
				–
	</div>
			<p>the stream_time in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>the position in the segment for <em>stream_time</em>. This function returns
-1 when <em>stream_time</em> is -1 or when it is not inside <em>segment</em>.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.8
		</p>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.8;">
		
<h4 id="gst_segment_position_from_stream_time_full">
	<span><code>gst_segment_position_from_stream_time_full</code></span>
</h4>

		

<pre class="prototype">
<a title="gint" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint">gint</a>
gst_segment_position_from_stream_time_full (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                                            <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                                            <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> stream_time,
                                            <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> * position)</pre>

<p>Translate <em>stream_time</em> to the segment position using the currently configured
segment. Compared to <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_position_from_stream_time">gst_segment_position_from_stream_time</a> this function can
return negative segment position.</p>
<p>This function is typically used by elements that need to synchronize buffers
against the clock or each other.</p>
<p><em>stream_time</em> can be any value and the result of this function for values outside
of the segment is extrapolated.</p>
<p>When 1 is returned, <em>stream_time</em> resulted in a positive position returned
in <em>position</em>.</p>
<p>When this function returns -1, the returned <em>position</em> should be negated
to get the real negative segment position.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>stream_time</code></em></i>
				–
	</div>
			<p>the stream-time</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>position</code></em></i>
					(
						
<span class="annotation">[<abbr title="Parameter for returning results"><span class="acronym">out</span></abbr>]</span>

						)
				–
	</div>
			<p>the resulting position in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>a 1 or -1 on success, 0 on failure.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.8
		</p>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_set_running_time">
	<span><code>gst_segment_set_running_time</code></span>
</h4>

		

<pre class="prototype">
<a title="gboolean" href="gst-plugins-base-riff-1.0/riff-read.html#gboolean">gboolean</a>
gst_segment_set_running_time (<a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                              <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                              <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> running_time)</pre>

<p>Adjust the start/stop and base values of <em>segment</em> such that the next valid
buffer will be one with <em>running_time</em>.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>running_time</code></em></i>
				–
	</div>
			<p>the running_time in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p><a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS">TRUE</a> if the segment could be updated successfully. If <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS">FALSE</a> is
returned, <em>running_time</em> is -1 or not in <em>segment</em>.</p>

					</div>
	</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_to_position">
	<span><code>gst_segment_to_position</code></span>
</h4>

		

<pre class="prototype">
<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>
gst_segment_to_position (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                         <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                         <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> running_time)</pre>

<p>Convert <em>running_time</em> into a position in the segment so that
<a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_to_running_time">gst_segment_to_running_time</a> with that position returns <em>running_time</em>.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>running_time</code></em></i>
				–
	</div>
			<p>the running_time in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>the position in the segment for <em>running_time</em>. This function returns
-1 when <em>running_time</em> is -1 or when it is not inside <em>segment</em>.</p>
<p>Deprecated. Use <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_position_from_running_time">gst_segment_position_from_running_time</a> instead.</p>

					</div>
	</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h4 id="gst_segment_to_running_time">
	<span><code>gst_segment_to_running_time</code></span>
</h4>

		

<pre class="prototype">
<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>
gst_segment_to_running_time (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                             <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                             <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> position)</pre>

<p>Translate <em>position</em> to the total running time using the currently configured
segment. Position is a value between <em>segment</em> start and stop time.</p>
<p>This function is typically used by elements that need to synchronize to the
global clock in a pipeline. The running time is a constantly increasing value
starting from 0. When <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_init">gst_segment_init</a> is called, this value will reset to</p>
<ol start="0">
<li>
</ol>
<p>This function returns -1 if the position is outside of <em>segment</em> start and stop.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>position</code></em></i>
				–
	</div>
			<p>the position in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>the position as the total running time or -1 when an invalid position
was given.</p>

					</div>
	</div>




</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.6;">
		
<h4 id="gst_segment_to_running_time_full">
	<span><code>gst_segment_to_running_time_full</code></span>
</h4>

		

<pre class="prototype">
<a title="gint" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint">gint</a>
gst_segment_to_running_time_full (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                                  <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                                  <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> position,
                                  <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> * running_time)</pre>

<p>Translate <em>position</em> to the total running time using the currently configured
segment. Compared to <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_to_running_time">gst_segment_to_running_time</a> this function can return
negative running-time.</p>
<p>This function is typically used by elements that need to synchronize buffers
against the clock or eachother.</p>
<p><em>position</em> can be any value and the result of this function for values outside
of the segment is extrapolated.</p>
<p>When 1 is returned, <em>position</em> resulted in a positive running-time returned
in <em>running_time</em>.</p>
<p>When this function returns -1, the returned <em>running_time</em> should be negated
to get the real negative running time.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>position</code></em></i>
				–
	</div>
			<p>the position in the segment</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>running_time</code></em></i>
					(
						
<span class="annotation">[<abbr title="Parameter for returning results"><span class="acronym">out</span></abbr>]</span>
<span class="annotation">[<abbr title="NULL is OK, both for passing and returning"><span class="acronym">allow-none</span></abbr>]</span>

						)
				–
	</div>
			<p>result running-time</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>a 1 or -1 on success, 0 on failure.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.6
		</p>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.8;">
		
<h4 id="gst_segment_to_stream_time">
	<span><code>gst_segment_to_stream_time</code></span>
</h4>

		

<pre class="prototype">
<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>
gst_segment_to_stream_time (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                            <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                            <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> position)</pre>

<p>Translate <em>position</em> to stream time using the currently configured
segment. The <em>position</em> value must be between <em>segment</em> start and
stop value.</p>
<p>This function is typically used by elements that need to operate on
the stream time of the buffers it receives, such as effect plugins.
In those use cases, <em>position</em> is typically the buffer timestamp or
clock time that one wants to convert to the stream time.
The stream time is always between 0 and the total duration of the
media stream.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>position</code></em></i>
				–
	</div>
			<p>the position in the segment</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>the position in stream_time or -1 when an invalid position
was given.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.8
		</p>

</div>

            

<div class="base_symbol_container" data-hotdoc-tags="since:1.8;">
		
<h4 id="gst_segment_to_stream_time_full">
	<span><code>gst_segment_to_stream_time_full</code></span>
</h4>

		

<pre class="prototype">
<a title="gint" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint">gint</a>
gst_segment_to_stream_time_full (const <a title="GstSegment" href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> * segment,
                                 <a title="GstFormat" href="GstFormat">GstFormat</a> format,
                                 <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> position,
                                 <a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a> * stream_time)</pre>

<p>Translate <em>position</em> to the total stream time using the currently configured
segment. Compared to <a href="libgstreamer-1.0/c/gstsegment.html#gst_segment_to_stream_time">gst_segment_to_stream_time</a> this function can return
negative stream-time.</p>
<p>This function is typically used by elements that need to synchronize buffers
against the clock or eachother.</p>
<p><em>position</em> can be any value and the result of this function for values outside
of the segment is extrapolated.</p>
<p>When 1 is returned, <em>position</em> resulted in a positive stream-time returned
in <em>stream_time</em>.</p>
<p>When this function returns -1, the returned <em>stream_time</em> should be negated
to get the real negative stream time.</p>



	<div class="parameters-container">
		<p><b>Parameters:</b></p>
					
<div class="symbol-detail">
	<div>
		<i><em><code>segment</code></em></i>
				–
	</div>
			<p>a <a href="libgstreamer-1.0/c/gstsegment.html#GstSegment">GstSegment</a> structure.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>format</code></em></i>
				–
	</div>
			<p>the format of the segment.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>position</code></em></i>
				–
	</div>
			<p>the position in the segment</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<i><em><code>stream_time</code></em></i>
					(
						
<span class="annotation">[<abbr title="Parameter for returning results"><span class="acronym">out</span></abbr>]</span>

						)
				–
	</div>
			<p>result stream-time</p>

	</div>

			</div>

		<div class="return-values-container">
		<div class="symbol-detail">
			<div>
				<b>Returns</b>
								–
			</div>
							<p>a 1 or -1 on success, 0 on failure.</p>

					</div>
	</div>



	<p>
	<b>Since</b>			: 1.8
		</p>

</div>



        



            <h2 class="symbol_section" id="Structures">Structures</h2>
                    

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h3 id="GstSegment">
		struct GstSegment
	</h3>

		<pre class="raw_code">
struct GstSegment {
    GstSegmentFlags flags;
    gdouble rate;
    gdouble applied_rate;
    GstFormat format;
    guint64 base;
    guint64 offset;
    guint64 start;
    guint64 stop;
    guint64 time;
    guint64 position;
    guint64 duration;
 };
</pre>

<p>A helper structure that holds the configured region of
interest in a media file.</p>




	<div class="members-container">
		<h4 id="fields">Fields</h4>
					
<div class="symbol-detail" id="GstSegment.flags">
	<div>
		<i><em><code>GstSegment.flags</code></em></i>
		(<a title="GstSegmentFlags" href="libgstreamer-1.0/c/gstsegment.html#GstSegmentFlags">GstSegmentFlags</a>)
		–
	</div>
			<p>flags for this segment</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.rate">
	<div>
		<i><em><code>GstSegment.rate</code></em></i>
		(<a title="gdouble" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gdouble">gdouble</a>)
		–
	</div>
			<p>the playback rate of the segment</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.applied_rate">
	<div>
		<i><em><code>GstSegment.applied_rate</code></em></i>
		(<a title="gdouble" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gdouble">gdouble</a>)
		–
	</div>
			<p>the already applied rate to the segment</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.format">
	<div>
		<i><em><code>GstSegment.format</code></em></i>
		(<a title="GstFormat" href="GstFormat">GstFormat</a>)
		–
	</div>
			<p>the format of the segment values</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.base">
	<div>
		<i><em><code>GstSegment.base</code></em></i>
		(<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>)
		–
	</div>
			<p>the running time (plus elapsed time, see offset) of the segment start</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.offset">
	<div>
		<i><em><code>GstSegment.offset</code></em></i>
		(<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>)
		–
	</div>
			<p>the amount (in buffer timestamps) that has already been elapsed in
the segment</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.start">
	<div>
		<i><em><code>GstSegment.start</code></em></i>
		(<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>)
		–
	</div>
			<p>the start of the segment in buffer timestamp time (PTS)</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.stop">
	<div>
		<i><em><code>GstSegment.stop</code></em></i>
		(<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>)
		–
	</div>
			<p>the stop of the segment in buffer timestamp time (PTS)</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.time">
	<div>
		<i><em><code>GstSegment.time</code></em></i>
		(<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>)
		–
	</div>
			<p>the stream time of the segment start</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.position">
	<div>
		<i><em><code>GstSegment.position</code></em></i>
		(<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>)
		–
	</div>
			<p>the buffer timestamp position in the segment (used internally by
elements such as sources, demuxers or parsers to track progress)</p>

	</div>

					
<div class="symbol-detail" id="GstSegment.duration">
	<div>
		<i><em><code>GstSegment.duration</code></em></i>
		(<a title="guint64" href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#guint64">guint64</a>)
		–
	</div>
			<p>the duration of the segment</p>

	</div>

			</div>


</div>




            <h2 class="symbol_section" id="Enumerations">Enumerations</h2>
                    

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h3 id="GstSeekFlags">
		enum GstSeekFlags
	</h3>

		<p>Flags to be used with <a href="libgstreamer-1.0/c/gstelement-h.html#gst_element_seek">gst_element_seek</a> or <a href="libgstreamer-1.0/c/gstevent.html#gst_event_new_seek">gst_event_new_seek</a>. All flags
can be used together.</p>
<p>A non flushing seek might take some time to perform as the currently
playing data in the pipeline will not be cleared.</p>
<p>An accurate seek might be slower for formats that don't have any indexes
or timestamp markers in the stream. Specifying this flag might require a
complete scan of the file in those cases.</p>
<p>When performing a segment seek: after the playback of the segment completes,
no EOS will be emitted by the element that performed the seek, but a
<a href="libgstreamer-1.0/c/gstmessage.html#GST_MESSAGE_SEGMENT_DONE">GST_MESSAGE_SEGMENT_DONE</a> message will be posted on the bus by the element.
When this message is posted, it is possible to send a new seek event to
continue playback. With this seek method it is possible to perform seamless
looping or simple linear editing.</p>
<p>When doing fast forward (rate &gt; 1.0) or fast reverse (rate &lt; -1.0) trickmode
playback, the <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_TRICKMODE">GST_SEEK_FLAG_TRICKMODE</a> flag can be used to instruct decoders
and demuxers to adjust the playback rate by skipping frames. This can improve
performance and decrease CPU usage because not all frames need to be decoded.</p>
<p>Beyond that, the <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_TRICKMODE_KEY_UNITS">GST_SEEK_FLAG_TRICKMODE_KEY_UNITS</a> flag can be used to
request that decoders skip all frames except key units, and
<a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_TRICKMODE_NO_AUDIO">GST_SEEK_FLAG_TRICKMODE_NO_AUDIO</a> flags can be used to request that audio
decoders do no decoding at all, and simple output silence.</p>
<p>The <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_SNAP_BEFORE">GST_SEEK_FLAG_SNAP_BEFORE</a> flag can be used to snap to the previous
relevant location, and the <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_SNAP_AFTER">GST_SEEK_FLAG_SNAP_AFTER</a> flag can be used to
select the next relevant location. If <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_KEY_UNIT">GST_SEEK_FLAG_KEY_UNIT</a> is specified,
the relevant location is a keyframe. If both flags are specified, the nearest
of these locations will be selected. If none are specified, the implementation is
free to select whichever it wants.</p>
<p>The before and after here are in running time, so when playing backwards,
the next location refers to the one that will played in next, and not the
one that is located after in the actual source stream.</p>
<p>Also see part-seeking.txt in the GStreamer design documentation for more
details on the meaning of these flags and the behaviour expected of
elements that handle them.</p>




	<div class="members-container">
		<h4 id="members">Members</h4>
					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_NONE"></a>
		<i><em><code>GST_SEEK_FLAG_NONE</code></em></i>
		(<span class="value">0</span>)
		–
	</div>
			<p>no flag</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_FLUSH"></a>
		<i><em><code>GST_SEEK_FLAG_FLUSH</code></em></i>
		(<span class="value">1</span>)
		–
	</div>
			<p>flush pipeline</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_ACCURATE"></a>
		<i><em><code>GST_SEEK_FLAG_ACCURATE</code></em></i>
		(<span class="value">2</span>)
		–
	</div>
			<p>accurate position is requested, this might
be considerably slower for some formats.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_KEY_UNIT"></a>
		<i><em><code>GST_SEEK_FLAG_KEY_UNIT</code></em></i>
		(<span class="value">4</span>)
		–
	</div>
			<p>seek to the nearest keyframe. This might be
faster but less accurate.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_SEGMENT"></a>
		<i><em><code>GST_SEEK_FLAG_SEGMENT</code></em></i>
		(<span class="value">8</span>)
		–
	</div>
			<p>perform a segment seek.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_TRICKMODE"></a>
		<i><em><code>GST_SEEK_FLAG_TRICKMODE</code></em></i>
		(<span class="value">16</span>)
		–
	</div>
			<p>when doing fast forward or fast reverse playback, allow
elements to skip frames instead of generating all
frames. (Since 1.6)</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_SKIP"></a>
		<i><em><code>GST_SEEK_FLAG_SKIP</code></em></i>
		(<span class="value">16</span>)
		–
	</div>
			<p>Deprecated backward compatibility flag, replaced
by <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_TRICKMODE">GST_SEEK_FLAG_TRICKMODE</a></p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_SNAP_BEFORE"></a>
		<i><em><code>GST_SEEK_FLAG_SNAP_BEFORE</code></em></i>
		(<span class="value">32</span>)
		–
	</div>
			<p>go to a location before the requested position,
if <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_KEY_UNIT">GST_SEEK_FLAG_KEY_UNIT</a> this means the keyframe at or before
the requested position the one at or before the seek target.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_SNAP_AFTER"></a>
		<i><em><code>GST_SEEK_FLAG_SNAP_AFTER</code></em></i>
		(<span class="value">64</span>)
		–
	</div>
			<p>go to a location after the requested position,
if <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_KEY_UNIT">GST_SEEK_FLAG_KEY_UNIT</a> this means the keyframe at of after the
requested position.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_SNAP_NEAREST"></a>
		<i><em><code>GST_SEEK_FLAG_SNAP_NEAREST</code></em></i>
		(<span class="value">96</span>)
		–
	</div>
			<p>go to a position near the requested position,
if <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_KEY_UNIT">GST_SEEK_FLAG_KEY_UNIT</a> this means the keyframe closest
to the requested position, if both keyframes are at an equal
distance, behaves like <a href="libgstreamer-1.0/c/gstsegment.html#GST_SEEK_FLAG_SNAP_BEFORE">GST_SEEK_FLAG_SNAP_BEFORE</a>.</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_TRICKMODE_KEY_UNITS"></a>
		<i><em><code>GST_SEEK_FLAG_TRICKMODE_KEY_UNITS</code></em></i>
		(<span class="value">128</span>)
		–
	</div>
			<p>when doing fast forward or fast reverse
playback, request that elements only decode keyframes
and skip all other content, for formats that have
keyframes. (Since 1.6)</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_FLAG_TRICKMODE_NO_AUDIO"></a>
		<i><em><code>GST_SEEK_FLAG_TRICKMODE_NO_AUDIO</code></em></i>
		(<span class="value">256</span>)
		–
	</div>
			<p>when doing fast forward or fast reverse
playback, request that audio decoder elements skip
decoding and output only gap events or silence. (Since 1.6)</p>

	</div>

			</div>


</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h3 id="GstSeekType">
		enum GstSeekType
	</h3>

		<p>The different types of seek events. When constructing a seek event with
<a href="libgstreamer-1.0/c/gstevent.html#gst_event_new_seek">gst_event_new_seek</a> or when doing gst_segment_do_seek ().</p>




	<div class="members-container">
		<h4 id="members1">Members</h4>
					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_TYPE_NONE"></a>
		<i><em><code>GST_SEEK_TYPE_NONE</code></em></i>
		(<span class="value">0</span>)
		–
	</div>
			<p>no change in position is required</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_TYPE_SET"></a>
		<i><em><code>GST_SEEK_TYPE_SET</code></em></i>
		(<span class="value">1</span>)
		–
	</div>
			<p>absolute position is requested</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEEK_TYPE_END"></a>
		<i><em><code>GST_SEEK_TYPE_END</code></em></i>
		(<span class="value">2</span>)
		–
	</div>
			<p>relative position to duration is requested</p>

	</div>

			</div>


</div>

            

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h3 id="GstSegmentFlags">
		enum GstSegmentFlags
	</h3>

		<p>Flags for the GstSegment structure. Currently mapped to the corresponding
values of the seek flags.</p>




	<div class="members-container">
		<h4 id="members2">Members</h4>
					
<div class="symbol-detail">
	<div>
		<a id="GST_SEGMENT_FLAG_NONE"></a>
		<i><em><code>GST_SEGMENT_FLAG_NONE</code></em></i>
		(<span class="value">0</span>)
		–
	</div>
			<p>no flags</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEGMENT_FLAG_RESET"></a>
		<i><em><code>GST_SEGMENT_FLAG_RESET</code></em></i>
		(<span class="value">1</span>)
		–
	</div>
			<p>reset the pipeline running_time to the segment
running_time</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEGMENT_FLAG_TRICKMODE"></a>
		<i><em><code>GST_SEGMENT_FLAG_TRICKMODE</code></em></i>
		(<span class="value">16</span>)
		–
	</div>
			<p>perform skip playback (Since 1.6)</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEGMENT_FLAG_SKIP"></a>
		<i><em><code>GST_SEGMENT_FLAG_SKIP</code></em></i>
		(<span class="value">16</span>)
		–
	</div>
			<p>Deprecated backward compatibility flag, replaced
by <em>GST_SEGMENT_FLAG_TRICKMODE</em></p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEGMENT_FLAG_SEGMENT"></a>
		<i><em><code>GST_SEGMENT_FLAG_SEGMENT</code></em></i>
		(<span class="value">8</span>)
		–
	</div>
			<p>send SEGMENT_DONE instead of EOS</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEGMENT_FLAG_TRICKMODE_KEY_UNITS"></a>
		<i><em><code>GST_SEGMENT_FLAG_TRICKMODE_KEY_UNITS</code></em></i>
		(<span class="value">128</span>)
		–
	</div>
			<p>Decode only keyframes, where
possible (Since 1.6)</p>

	</div>

					
<div class="symbol-detail">
	<div>
		<a id="GST_SEGMENT_FLAG_TRICKMODE_NO_AUDIO"></a>
		<i><em><code>GST_SEGMENT_FLAG_TRICKMODE_NO_AUDIO</code></em></i>
		(<span class="value">256</span>)
		–
	</div>
			<p>Do not decode any audio, where
possible (Since 1.6)</p>

	</div>

			</div>


</div>




            <h2 class="symbol_section" id="Constants">Constants</h2>
                    

<div class="base_symbol_container" data-hotdoc-tags="">
		
<h3 class="constant" id="GST_TYPE_SEGMENT">
	GST_TYPE_SEGMENT
</h3>

		<pre class="raw_code">
#define GST_TYPE_SEGMENT             (gst_segment_get_type())
</pre>



</div>






		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<hr>
	<div id="footer">
		    

	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>
