<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>gdkpixbufsink</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/utils.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/navigation.js"></script>


<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>


<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body data-spy="scroll" data-target=".scrollspy" data-offset="70">


<nav class="navbar navbar-fixed-top navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a href="https://gstreamer.freedesktop.org/" class="hotdoc-navbar-brand">
				<img src="assets/images/gstreamer-logo.svg" alt="Home" id="home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
							</ul>
			<form action="" class="navbar-form navbar-right">
				<div class="form-group has-feedback">
					<input type="text" class="form-control" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
					<span class="glyphicon glyphicon-search form-control-feedback"></span>
				</div>
			</form>
		</div>
	</div>
</nav>

<main class="page-row page-row-expanded">
<div data-extension="gst-extension" data-hotdoc-in-toplevel="False" data-hotdoc-project="gst-plugins-good-1.0" data-hotdoc-ref="element-gdkpixbufsink.html" class="page_container" id="page-wrapper" data-hotdoc-meta-gi-languages="c,python,javascript" data-hotdoc-meta-gi-language="javascript">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2" id="sidenav-column">
	<div class="panel panel-collapse" id="sidenav" data-hotdoc-role="navigation">
		<div id="sitenav-wrapper" class="mCustomScrollbar" data-mcs-theme="minimal">
			<div class="sidenav-main-panel-body">
				<div id="site-navigation">
				</div>
			</div>
		</div>
	</div>
</div>

<div class="col-sm-12 col-md-9 col-xl-8">
	<div id="main">
				
<div id="page-description" data-hotdoc-source="element-gdkpixbufsink">
<h1 id="gdkpixbufsink">gdkpixbufsink</h1><p>This sink element takes RGB or RGBA images as input and wraps them into
<a href="http://library.gnome.org/devel/gdk-pixbuf/unstable/gdk-pixbuf-The-GdkPixbuf-Structure.html#GdkPixbuf-struct">GdkPixbuf</a> objects, for easy saving to file via the
GdkPixbuf library API or displaying in Gtk+ applications (e.g. using
the <a href="http://developer.gnome.org/gtk3/GtkImage.html#GtkImage-struct">GtkImage</a> widget).</p>
<p>There are two ways to use this element and obtain the <a href="http://library.gnome.org/devel/gdk-pixbuf/unstable/gdk-pixbuf-The-GdkPixbuf-Structure.html#GdkPixbuf-struct">GdkPixbuf</a> objects
created:</p>
<ul>
<li>
<p>Watching for element messages named <code>preroll-pixbuf</code> or <code>pixbuf</code> on the bus, which
will be posted whenever an image would usually be rendered. See below for
more details on these messages and how to extract the pixbuf object
contained in them.</p>
</li>
<li>
<p>Retrieving the current pixbuf via the <a href="element-gdkpixbufsink.html#GstGdkPixbufSink:last-pixbuf">last-pixbuf</a> property
when needed. This is the easiest way to get at pixbufs for snapshotting
purposes - just wait until the pipeline is prerolled (ASYNC_DONE message
on the bus), then read the property. If you use this method, you may want
to disable message posting by setting the <a href="element-gdkpixbufsink.html#GstGdkPixbufSink:post-messages">post-messages</a>
property to <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS">FALSE</a>. This avoids unnecessary memory overhead.</p>
</li>
</ul>
<p>The primary purpose of this element is to abstract away the <a href="../libgstreamer-1.0/c/gstbuffer.html#GstBuffer">GstBuffer</a> to
<a href="http://library.gnome.org/devel/gdk-pixbuf/unstable/gdk-pixbuf-The-GdkPixbuf-Structure.html#GdkPixbuf-struct">GdkPixbuf</a> conversion. Other than that it's very similar to the fakesink
element.</p>
<p>This element is meant for easy no-hassle video snapshotting. It is not
suitable for video playback or video display at high framerates. Use
ximagesink, xvimagesink or some other suitable video sink in connection
with the GstXOverlay interface instead if you want to do video playback.</p>
<h2 id="message-details">Message details</h2>
<p>As mentioned above, this element will by default post element messages
containing structures named <code>&amp;quot;preroll-pixbuf&amp;quot;</code> or <code>&amp;quot;pixbuf&amp;quot;</code> on the bus (this
can be disabled by setting the <a href="element-gdkpixbufsink.html#GstGdkPixbufSink:post-messages">post-messages</a> property
to <a href="https://developer.gnome.org/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS">FALSE</a> though). The element message structure has the following fields:</p>
<ul>
<li><code>pixbuf</code>: the <a href="http://library.gnome.org/devel/gdk-pixbuf/unstable/gdk-pixbuf-The-GdkPixbuf-Structure.html#GdkPixbuf-struct">GdkPixbuf</a> object</li>
<li><code>pixel-aspect-ratio</code>: the pixel aspect ratio (PAR) of the input image
(this field contains a GstFraction); the
PAR is usually 1:1 for images, but is often something non-1:1 in the case
of video input. In this case the image may be distorted and you may need
to rescale it accordingly before saving it to file or displaying it. This
can easily be done using <a href="http://library.gnome.org/devel/gdk-pixbuf/unstable/gdk-pixbuf-Scaling.html#gdk-pixbuf-scale">gdk_pixbuf_scale</a> (the reason this is not done
automatically is that the application will often scale the image anyway
according to the size of the output window, in which case it is much more
efficient to only scale once rather than twice). You can put a videoscale
element and a capsfilter element with
<code>video/x-raw-rgb,pixel-aspect-ratio=(fraction)1/1</code> caps
in front of this element to make sure the pixbufs always have a 1:1 PAR.</li>
</ul>
<h2 id="example-pipeline">Example pipeline</h2>
<pre><code class="language-["> gst-launch-1.0 -m -v videotestsrc num-buffers=1 ! gdkpixbufsink
 ]| Process one single test image as pixbuf (note that the output you see will
 be slightly misleading. The message structure does contain a valid pixbuf
 object even if the structure string says &amp;apos;(NULL)&amp;apos;).
</code></pre>

</div>


        <div id="subpages"></div>
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
</div>
<div class="hidden-xs col-xl-2">
</div>
	</div>
</div>
</main>


<footer class="page-row">
	<div class="container-fluid">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2"></div>
		<div class="col-sm-12 col-md-9 col-xl-8">
						
		</div>
		<div class="hidden-xs col-xl-2"></div>
	</div>
</div>
</footer>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>