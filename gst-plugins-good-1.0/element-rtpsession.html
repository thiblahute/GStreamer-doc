<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>rtpsession</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/utils.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/navigation.js"></script>


<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>


<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body data-spy="scroll" data-target=".scrollspy" data-offset="70">


<nav class="navbar navbar-fixed-top navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a href="https://gstreamer.freedesktop.org/" class="hotdoc-navbar-brand">
				<img src="assets/images/gstreamer-logo.svg" alt="Home" id="home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
							</ul>
			<form action="" class="navbar-form navbar-right">
				<div class="form-group has-feedback">
					<input type="text" class="form-control" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
					<span class="glyphicon glyphicon-search form-control-feedback"></span>
				</div>
			</form>
		</div>
	</div>
</nav>

<main class="page-row page-row-expanded">
<div data-extension="gst-extension" data-hotdoc-in-toplevel="False" data-hotdoc-project="gst-plugins-good-1.0" data-hotdoc-ref="element-rtpsession.html" class="page_container" id="page-wrapper" data-hotdoc-meta-gi-languages="c,python,javascript" data-hotdoc-meta-gi-language="javascript">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2" id="sidenav-column">
	<div class="panel panel-collapse" id="sidenav" data-hotdoc-role="navigation">
		<div id="sitenav-wrapper" class="mCustomScrollbar" data-mcs-theme="minimal">
			<div class="sidenav-main-panel-body">
				<div id="site-navigation">
				</div>
			</div>
		</div>
	</div>
</div>

<div class="col-sm-12 col-md-9 col-xl-8">
	<div id="main">
				
<div id="page-description" data-hotdoc-source="element-rtpsession">
<h1 id="rtpsession">rtpsession</h1><p>The RTP session manager models participants with unique SSRC in an RTP
session. This session can be used to send and receive RTP and RTCP packets.
Based on what REQUEST pads are requested from the session manager, specific
functionality can be activated.</p>
<p>The session manager currently implements RFC 3550 including:</p>
<ul>
<li>
<p>RTP packet validation based on consecutive sequence numbers.</p>
</li>
<li>
<p>Maintainance of the SSRC participant database.</p>
</li>
<li>
<p>Keeping per participant statistics based on received RTCP packets.</p>
</li>
<li>
<p>Scheduling of RR/SR RTCP packets.</p>
</li>
<li>
<p>Support for multiple sender SSRC.</p>
</li>
</ul>
<p>The rtpsession will not demux packets based on SSRC or payload type, nor will
it correct for packet reordering and jitter. Use GstRtpsSrcDemux,
<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpptdemux.html#GstRtpPtDemux-struct">GstRtpPtDemux</a> and GstRtpJitterBuffer in addition to <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a> to
perform these tasks. It is usually a good idea to use <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a>, which
combines all these features in one element.</p>
<p>To use <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a> as an RTP receiver, request a recv_rtp_sink pad, which will
automatically create recv_rtp_src pad. Data received on the recv_rtp_sink pad
will be processed in the session and after being validated forwarded on the
recv_rtp_src pad.</p>
<p>To also use <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a> as an RTCP receiver, request a recv_rtcp_sink pad,
which will automatically create a sync_src pad. Packets received on the RTCP
pad will be used by the session manager to update the stats and database of
the other participants. SR packets will be forwarded on the sync_src pad
so that they can be used to perform inter-stream synchronisation when needed.</p>
<p>If you want the session manager to generate and send RTCP packets, request
the send_rtcp_src pad. Packet pushed on this pad contain SR/RR RTCP reports
that should be sent to all participants in the session.</p>
<p>To use <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a> as a sender, request a send_rtp_sink pad, which will
automatically create a send_rtp_src pad. The session manager will
forward the packets on the send_rtp_src pad after updating its internal state.</p>
<p>The session manager needs the clock-rate of the payload types it is handling
and will signal the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-request-pt-map">GstRtpSession::request-pt-map</a> signal when it needs such a
mapping. One can clear the cached values with the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-clear-pt-map">GstRtpSession::clear-pt-map</a>
signal.</p>
<h2 id="example-pipelines">Example pipelines</h2>
<pre><code class="language-["> gst-launch-1.0 udpsrc port=5000 caps="application/x-rtp, ..." ! .recv_rtp_sink rtpsession .recv_rtp_src ! rtptheoradepay ! theoradec ! xvimagesink
 ]| Receive theora RTP packets from port 5000 and send them to the depayloader,
 decoder and display. Note that the application/x-rtp caps on udpsrc should be
 configured based on some negotiation process such as RTSP for this pipeline
 to work correctly.
 |[
 gst-launch-1.0 udpsrc port=5000 caps="application/x-rtp, ..." ! .recv_rtp_sink rtpsession name=session \
        .recv_rtp_src ! rtptheoradepay ! theoradec ! xvimagesink \
     udpsrc port=5001 caps="application/x-rtcp" ! session.recv_rtcp_sink
 ]| Receive theora RTP packets from port 5000 and send them to the depayloader,
 decoder and display. Receive RTCP packets from port 5001 and process them in
 the session manager.
 Note that the application/x-rtp caps on udpsrc should be
 configured based on some negotiation process such as RTSP for this pipeline
 to work correctly.
 |[
 gst-launch-1.0 videotestsrc ! theoraenc ! rtptheorapay ! .send_rtp_sink rtpsession .send_rtp_src ! udpsink port=5000
 ]| Send theora RTP packets through the session manager and out on UDP port
 5000.
 |[
 gst-launch-1.0 videotestsrc ! theoraenc ! rtptheorapay ! .send_rtp_sink rtpsession name=session .send_rtp_src \
     ! udpsink port=5000  session.send_rtcp_src ! udpsink port=5001
 ]| Send theora RTP packets through the session manager and out on UDP port
 5000. Send RTCP packets on port 5001. Note that this pipeline will not preroll
 correctly because the second udpsink will not preroll correctly (no RTCP
 packets are sent in the PAUSED state). Applications should manually set and
 keep (see gst_element_set_locked_state()) the RTCP udpsink to the PLAYING state.
</code></pre>

</div>


        <div id="subpages"></div>
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
</div>
<div class="hidden-xs col-xl-2">
</div>
	</div>
</div>
</main>


<footer class="page-row">
	<div class="container-fluid">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2"></div>
		<div class="col-sm-12 col-md-9 col-xl-8">
						
		</div>
		<div class="hidden-xs col-xl-2"></div>
	</div>
</div>
</footer>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>