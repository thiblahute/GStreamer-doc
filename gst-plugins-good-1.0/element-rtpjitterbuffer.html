<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>rtpjitterbuffer</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/utils.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/navigation.js"></script>


<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>


<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body data-spy="scroll" data-target=".scrollspy" data-offset="70">


<nav class="navbar navbar-fixed-top navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a href="https://gstreamer.freedesktop.org/" class="hotdoc-navbar-brand">
				<img src="assets/images/gstreamer-logo.svg" alt="Home" id="home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
							</ul>
			<form action="" class="navbar-form navbar-right">
				<div class="form-group has-feedback">
					<input type="text" class="form-control" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
					<span class="glyphicon glyphicon-search form-control-feedback"></span>
				</div>
			</form>
		</div>
	</div>
</nav>

<main class="page-row page-row-expanded">
<div data-extension="gst-extension" data-hotdoc-in-toplevel="False" data-hotdoc-project="gst-plugins-good-1.0" data-hotdoc-ref="element-rtpjitterbuffer.html" class="page_container" id="page-wrapper" data-hotdoc-meta-gi-languages="c,python,javascript" data-hotdoc-meta-gi-language="javascript">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2" id="sidenav-column">
	<div class="panel panel-collapse" id="sidenav" data-hotdoc-role="navigation">
		<div id="sitenav-wrapper" class="mCustomScrollbar" data-mcs-theme="minimal">
			<div class="sidenav-main-panel-body">
				<div id="site-navigation">
				</div>
			</div>
		</div>
	</div>
</div>

<div class="col-sm-12 col-md-9 col-xl-8">
	<div id="main">
				
<div id="page-description" data-hotdoc-source="element-rtpjitterbuffer">
<h1 id="rtpjitterbuffer">rtpjitterbuffer</h1><p>This element reorders and removes duplicate RTP packets as they are received
from a network source.</p>
<p>The element needs the clock-rate of the RTP payload in order to estimate the
delay. This information is obtained either from the caps on the sink pad or,
when no caps are present, from the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpjitterbuffer.html#GstRtpJitterBuffer-request-pt-map">GstRtpJitterBuffer::request-pt-map</a> signal.
To clear the previous pt-map use the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpjitterbuffer.html#GstRtpJitterBuffer-clear-pt-map">GstRtpJitterBuffer::clear-pt-map</a> signal.</p>
<p>The rtpjitterbuffer will wait for missing packets up to a configurable time
limit using the <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:latency">latency</a> property. Packets arriving too
late are considered to be lost packets. If the <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:do-lost">do-lost</a>
property is set, lost packets will result in a custom serialized downstream
event of name GstRTPPacketLost. The lost packet events are usually used by a
depayloader or other element to create concealment data or some other logic
to gracefully handle the missing packets.</p>
<p>The jitterbuffer will use the DTS (or PTS if no DTS is set) of the incomming
buffer and the rtptime inside the RTP packet to create a PTS on the outgoing
buffer.</p>
<p>The jitterbuffer can also be configured to send early retransmission events
upstream by setting the <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:do-retransmission">do-retransmission</a> property. In
this mode, the jitterbuffer tries to estimate when a packet should arrive and
sends a custom upstream event named GstRTPRetransmissionRequest when the
packet is considered late. The initial expected packet arrival time is
calculated as follows:</p>
<ul>
<li>
<p>If seqnum N arrived at time T, seqnum N+1 is expected to arrive at
T + packet-spacing + <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:rtx-delay">rtx-delay</a>. The packet spacing is
calculated from the DTS (or PTS is no DTS) of two consecutive RTP
packets with different rtptime.</p>
</li>
<li>
<p>If seqnum N0 arrived at time T0 and seqnum Nm arrived at time Tm,
seqnum Ni is expected at time Ti = T0 + i*(Tm - T0)/(Nm - N0). Any
previously scheduled timeout is overwritten.</p>
</li>
<li>
<p>If seqnum N arrived, all seqnum older than
N - <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:rtx-delay-reorder">rtx-delay-reorder</a> are considered late
immediately. This is to request fast feedback for abonormally reorder
packets before any of the previous timeouts is triggered.</p>
</li>
</ul>
<p>A late packet triggers the GstRTPRetransmissionRequest custom upstream
event. After the initial timeout expires and the retransmission event is
sent, the timeout is scheduled for
T + <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:rtx-retry-timeout">rtx-retry-timeout</a>. If the missing packet did not
arrive after <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:rtx-retry-timeout">rtx-retry-timeout</a>, a new
GstRTPRetransmissionRequest is sent upstream and the timeout is rescheduled
again for T + <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:rtx-retry-timeout">rtx-retry-timeout</a>. This repeats until
<a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:rtx-retry-period">rtx-retry-period</a> elapsed, at which point no further
retransmission requests are sent and the regular logic is performed to
schedule a lost packet as discussed above.</p>
<p>This element acts as a live element and so adds <a href="element-rtpjitterbuffer.html#GstRtpJitterBuffer:latency">latency</a>
to the pipeline.</p>
<p>This element will automatically be used inside rtpbin.</p>
<h2 id="example-pipelines">Example pipelines</h2>
<pre><code class="language-["> gst-launch-1.0 rtspsrc location=rtsp://192.168.1.133:8554/mpeg1or2AudioVideoTest ! rtpjitterbuffer ! rtpmpvdepay ! mpeg2dec ! xvimagesink
 ]| Connect to a streaming server and decode the MPEG video. The jitterbuffer is
 inserted into the pipeline to smooth out network jitter and to reorder the
 out-of-order RTP packets.
</code></pre>

</div>


        <div id="subpages"></div>
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
</div>
<div class="hidden-xs col-xl-2">
</div>
	</div>
</div>
</main>


<footer class="page-row">
	<div class="container-fluid">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2"></div>
		<div class="col-sm-12 col-md-9 col-xl-8">
						
		</div>
		<div class="hidden-xs col-xl-2"></div>
	</div>
</div>
</footer>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>