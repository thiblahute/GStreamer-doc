<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>rtpbin</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/utils.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/navigation.js"></script>


<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>


<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body data-spy="scroll" data-target=".scrollspy" data-offset="70">


<nav class="navbar navbar-fixed-top navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a href="https://gstreamer.freedesktop.org/" class="hotdoc-navbar-brand">
				<img src="assets/images/gstreamer-logo.svg" alt="Home" id="home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
							</ul>
			<form action="" class="navbar-form navbar-right">
				<div class="form-group has-feedback">
					<input type="text" class="form-control" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
					<span class="glyphicon glyphicon-search form-control-feedback"></span>
				</div>
			</form>
		</div>
	</div>
</nav>

<main class="page-row page-row-expanded">
<div data-extension="gst-extension" data-hotdoc-in-toplevel="False" data-hotdoc-project="gst-plugins-good-1.0" data-hotdoc-ref="element-rtpbin.html" class="page_container" id="page-wrapper" data-hotdoc-meta-gi-languages="c,python,javascript" data-hotdoc-meta-gi-language="javascript">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2" id="sidenav-column">
	<div class="panel panel-collapse" id="sidenav" data-hotdoc-role="navigation">
		<div id="sitenav-wrapper" class="mCustomScrollbar" data-mcs-theme="minimal">
			<div class="sidenav-main-panel-body">
				<div id="site-navigation">
				</div>
			</div>
		</div>
	</div>
</div>

<div class="col-sm-12 col-md-9 col-xl-8">
	<div id="main">
				
<div id="page-description" data-hotdoc-source="element-rtpbin">
<h1 id="rtpbin">rtpbin</h1><p>RTP bin combines the functions of <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a>, <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpssrcdemux.html#GstRtpSsrcDemux-struct">GstRtpSsrcDemux</a>,
<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpjitterbuffer.html#GstRtpJitterBuffer-struct">GstRtpJitterBuffer</a> and <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpptdemux.html#GstRtpPtDemux-struct">GstRtpPtDemux</a> in one element. It allows for multiple
RTP sessions that will be synchronized together using RTCP SR packets.</p>
<p><a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a> is configured with a number of request pads that define the
functionality that is activated, similar to the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a> element.</p>
<p>To use <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a> as an RTP receiver, request a recv_rtp_sink_%u pad. The session
number must be specified in the pad name.
Data received on the recv_rtp_sink_%u pad will be processed in the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a>
manager and after being validated forwarded on <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpssrcdemux.html#GstRtpSsrcDemux-struct">GstRtpSsrcDemux</a> element. Each
RTP stream is demuxed based on the SSRC and send to a <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpjitterbuffer.html#GstRtpJitterBuffer-struct">GstRtpJitterBuffer</a>. After
the packets are released from the jitterbuffer, they will be forwarded to a
<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpptdemux.html#GstRtpPtDemux-struct">GstRtpPtDemux</a> element. The <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpptdemux.html#GstRtpPtDemux-struct">GstRtpPtDemux</a> element will demux the packets based
on the payload type and will create a unique pad recv_rtp_src_%u_%u_%u on
rtpbin with the session number, SSRC and payload type respectively as the pad
name.</p>
<p>To also use <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a> as an RTCP receiver, request a recv_rtcp_sink_%u pad. The
session number must be specified in the pad name.</p>
<p>If you want the session manager to generate and send RTCP packets, request
the send_rtcp_src_%u pad with the session number in the pad name. Packet pushed
on this pad contain SR/RR RTCP reports that should be sent to all participants
in the session.</p>
<p>To use <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a> as a sender, request a send_rtp_sink_%u pad, which will
automatically create a send_rtp_src_%u pad. If the session number is not provided,
the pad from the lowest available session will be returned. The session manager will modify the
SSRC in the RTP packets to its own SSRC and wil forward the packets on the
send_rtp_src_%u pad after updating its internal state.</p>
<p><a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a> can also demultiplex incoming bundled streams. The first
<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a> will have a <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpssrcdemux.html#GstRtpSsrcDemux-struct">GstRtpSsrcDemux</a> element splitting the streams
based on their SSRC and potentially dispatched to a different <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a>.
Because retransmission SSRCs need to be merged with the corresponding media
stream the GstRtpBin::on-bundled-ssrc signal is emitted so that the
application can find out to which session the SSRC belongs.</p>
<p>The session manager needs the clock-rate of the payload types it is handling
and will signal the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-request-pt-map">GstRtpSession::request-pt-map</a> signal when it needs such a
mapping. One can clear the cached values with the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-clear-pt-map">GstRtpSession::clear-pt-map</a>
signal.</p>
<p>Access to the internal statistics of rtpbin is provided with the
get-internal-session property. This action signal gives access to the
RTPSession object which further provides action signals to retrieve the
internal source and other sources.</p>
<p><a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a> also has signals (#GstRtpBin::request-rtp-encoder,
<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-request-rtp-decoder">GstRtpBin::request-rtp-decoder</a>, <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-request-rtcp-encoder">GstRtpBin::request-rtcp-encoder</a> and
<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-request-rtp-decoder">GstRtpBin::request-rtp-decoder</a>) to dynamically request for RTP and RTCP encoders
and decoders in order to support SRTP. The encoders must provide the pads
rtp_sink_%u and rtp_src_%u for RTP and rtcp_sink_%u and rtcp_src_%u for
RTCP. The session number will be used in the pad name. The decoders must provide
rtp_sink and rtp_src for RTP and rtcp_sink and rtcp_src for RTCP. The decoders will
be placed before the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpsession.html#GstRtpSession-struct">GstRtpSession</a> element, thus they must support SSRC demuxing
internally.</p>
<p><a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a> has signals (#GstRtpBin::request-aux-sender and
<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-request-aux-receiver">GstRtpBin::request-aux-receiver</a> to dynamically request an element that can be
used to create or merge additional RTP streams. AUX elements are needed to
implement FEC or retransmission (such as RFC 4588). An AUX sender must have one
sink_%u pad that matches the sessionid in the signal and it should have 1 or
more src_%u pads. For each src_%\u pad, a session will be made (if needed)
and the pad will be linked to the session send_rtp_sink pad. Each session will
then expose its source pad as send_rtp_src_%u on <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a>.
An AUX receiver has 1 src_%u pad that much match the sessionid in the signal
and 1 or more sink_%u pads. A session will be made for each sink_%u pad
when the corresponding recv_rtp_sink_%u pad is requested on <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good/html/gst-plugins-good-plugins-rtpbin.html#GstRtpBin-struct">GstRtpBin</a>.</p>
<h2 id="example-pipelines">Example pipelines</h2>
<pre><code class="language-["> gst-launch-1.0 udpsrc port=5000 caps="application/x-rtp, ..." ! .recv_rtp_sink_0 \
     rtpbin ! rtptheoradepay ! theoradec ! xvimagesink
 ]| Receive RTP data from port 5000 and send to the session 0 in rtpbin.
 |[
 gst-launch-1.0 rtpbin name=rtpbin \
         v4l2src ! videoconvert ! ffenc_h263 ! rtph263ppay ! rtpbin.send_rtp_sink_0 \
                   rtpbin.send_rtp_src_0 ! udpsink port=5000                            \
                   rtpbin.send_rtcp_src_0 ! udpsink port=5001 sync=false async=false    \
                   udpsrc port=5005 ! rtpbin.recv_rtcp_sink_0                           \
         audiotestsrc ! amrnbenc ! rtpamrpay ! rtpbin.send_rtp_sink_1                   \
                   rtpbin.send_rtp_src_1 ! udpsink port=5002                            \
                   rtpbin.send_rtcp_src_1 ! udpsink port=5003 sync=false async=false    \
                   udpsrc port=5007 ! rtpbin.recv_rtcp_sink_1
 ]| Encode and payload H263 video captured from a v4l2src. Encode and payload AMR
 audio generated from audiotestsrc. The video is sent to session 0 in rtpbin
 and the audio is sent to session 1. Video packets are sent on UDP port 5000
 and audio packets on port 5002. The video RTCP packets for session 0 are sent
 on port 5001 and the audio RTCP packets for session 0 are sent on port 5003.
 RTCP packets for session 0 are received on port 5005 and RTCP for session 1
 is received on port 5007. Since RTCP packets from the sender should be sent
 as soon as possible and do not participate in preroll, sync=false and
 async=false is configured on udpsink
 |[
 gst-launch-1.0 -v rtpbin name=rtpbin                                          \
     udpsrc caps="application/x-rtp,media=(string)video,clock-rate=(int)90000,encoding-name=(string)H263-1998" \
             port=5000 ! rtpbin.recv_rtp_sink_0                                \
         rtpbin. ! rtph263pdepay ! ffdec_h263 ! xvimagesink                    \
      udpsrc port=5001 ! rtpbin.recv_rtcp_sink_0                               \
      rtpbin.send_rtcp_src_0 ! udpsink port=5005 sync=false async=false        \
     udpsrc caps="application/x-rtp,media=(string)audio,clock-rate=(int)8000,encoding-name=(string)AMR,encoding-params=(string)1,octet-align=(string)1" \
             port=5002 ! rtpbin.recv_rtp_sink_1                                \
         rtpbin. ! rtpamrdepay ! amrnbdec ! alsasink                           \
      udpsrc port=5003 ! rtpbin.recv_rtcp_sink_1                               \
      rtpbin.send_rtcp_src_1 ! udpsink port=5007 sync=false async=false
 ]| Receive H263 on port 5000, send it through rtpbin in session 0, depayload,
 decode and display the video.
 Receive AMR on port 5002, send it through rtpbin in session 1, depayload,
 decode and play the audio.
 Receive server RTCP packets for session 0 on port 5001 and RTCP packets for
 session 1 on port 5003. These packets will be used for session management and
 synchronisation.
 Send RTCP reports for session 0 on port 5005 and RTCP reports for session 1
 on port 5007.
</code></pre>

</div>


        <div id="subpages"></div>
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
</div>
<div class="hidden-xs col-xl-2">
</div>
	</div>
</div>
</main>


<footer class="page-row">
	<div class="container-fluid">
	<div class="row">
		<div class="hidden-xs hidden-sm col-md-3 col-xl-2"></div>
		<div class="col-sm-12 col-md-9 col-xl-8">
						
		</div>
		<div class="hidden-xs col-xl-2"></div>
	</div>
</div>
</footer>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>